<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Projects @ richardmarks.us</title>
  </head>
  <body>
    <div id="root"></div>
    <div id="lightbox-root"></div>
    <script type="module" src="/src/main.jsx"></script>
    <script>
      document.querySelectorAll("img[data-lb]").forEach((img) => {
        const createContainer = () => {
          const existing = document.querySelector(".lightbox-container");
          if (existing) {
            return existing;
          }

          const container = document.createElement("div");
          const close = document.createElement("a");
          const image = document.createElement("img");

          close.innerHTML = "&times;";
          close.href = "javascript:void(0)";
          image.alt = "lightbox image";

          close.classList.add(
            "fixed",
            "z-[1000]",
            "top-10",
            "right-10",
            "text-white",
            "text-6xl",
            "font-bold"
          );
          image.classList.add("max-w-[960px]", "max-h-[540px]", "object-cover");
          container.classList.add(
            "lightbox-container",
            "hidden",
            "fixed",
            "top-0",
            "left-0",
            "z-[999]",
            "w-screen",
            "h-screen",
            "bg-black/70",
            "flex",
            "justify-center",
            "items-center"
          );

          container.appendChild(close);
          container.appendChild(image);
          document.body.appendChild(container);

          const closeLightbox = (clickEvent) => {
            clickEvent.preventDefault();
            container.classList.add("hidden");
          };

          close.addEventListener("click", closeLightbox, false);
          container.addEventListener("click", closeLightbox, false);
          image.addEventListener("click", closeLightbox, false);

          return container;
        };
        img.addEventListener("click", (clickEvent) => {
          if (window.innerWidth >= 1024) {
            const container = createContainer();
            container.querySelector("img").src = img.src;
            container.classList.remove("hidden");
          }
        });
      });
    </script>
  </body>
</html>
